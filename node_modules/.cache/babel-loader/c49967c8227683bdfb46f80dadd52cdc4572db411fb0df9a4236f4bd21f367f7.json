{"ast":null,"code":"let curPage = 1;\nlet pageSize = 3;\nif (window.matchMedia('(max-width: 1300px)').matches) {\n  pageSize = 2;\n}\nasync function gerPosts() {\n  let page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  let res = await fetch('https://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=ba87f9ce8b3d495c8d33a8026f9b375f');\n  let posts = await res.json();\n  let numPages = Math.ceil(posts.articles.length / pageSize);\n  if (page == 1) {\n    document.getElementById(\"prevButton\").disabled = true;\n  } else {\n    document.getElementById(\"prevButton\").disabled = false;\n  }\n  if (page === numPages) {\n    document.getElementById(\"nextButton\").disabled = true;\n  } else {\n    document.getElementById(\"nextButton\").disabled = false;\n  }\n  document.querySelector('.post-list').innerHTML = '';\n  posts.articles.filter((row, index) => {\n    let start = (curPage - 1) * pageSize;\n    let end = curPage * pageSize;\n    if (index >= start && index < end) return true;\n  }).forEach(article => {\n    if (article.description != null || article.urlToImage != null) {\n      document.querySelector('.post-list').innerHTML += `\n            <div class=\"card\" style=\"\">\n                <div class=\"card-body\">\n                <a href=\"${article.url}\">\n                    <img src=\"${article.urlToImage}\">\n                    <h2 class=\"card-title\">${article.title}</h5>\n                    <p class=\"card-text\">${article.description}</p>\n                </a>\n                </div>\n                </div>\n            `;\n    }\n  });\n}\nfunction previousPage() {\n  if (curPage > 1) {\n    curPage--;\n    gerPosts(curPage);\n  }\n}\nasync function nextPage() {\n  let res = await fetch('https://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=ba87f9ce8b3d495c8d33a8026f9b375f');\n  let posts = await res.json();\n  if (curPage * pageSize < posts.articles.length) {\n    curPage++;\n    gerPosts(curPage);\n  }\n}\ndocument.querySelector('#nextButton').addEventListener('click', nextPage, false);\ndocument.querySelector('#prevButton').addEventListener('click', previousPage, false);\ngerPosts();","map":{"version":3,"names":["curPage","pageSize","window","matchMedia","matches","gerPosts","page","res","fetch","posts","json","numPages","Math","ceil","articles","length","document","getElementById","disabled","querySelector","innerHTML","filter","row","index","start","end","forEach","article","description","urlToImage","url","title","previousPage","nextPage","addEventListener"],"sources":["/Users/regina/neobank-app/src/utils/GetNews.js"],"sourcesContent":["let curPage = 1;\nlet pageSize = 3;\n\nif(window.matchMedia('(max-width: 1300px)').matches){\n\tpageSize = 2;\n}\n\n\nasync function gerPosts(page = 1){\n    let res = await fetch('https://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=ba87f9ce8b3d495c8d33a8026f9b375f');\n    let posts = await res.json();\n    \n    let numPages = Math.ceil(posts.articles.length / pageSize);\n    \n    if (page == 1) {\n        document.getElementById(\"prevButton\").disabled = true; \n      } else {\n        document.getElementById(\"prevButton\").disabled = false;\n      }\n    \n      if (page === numPages) {\n        document.getElementById(\"nextButton\").disabled = true;\n      } else {\n        document.getElementById(\"nextButton\").disabled = false;\n      }\n\n    document.querySelector('.post-list').innerHTML = '';\n    \n    posts.articles.filter((row, index) => {\n        let start = (curPage - 1) * pageSize;\n        let end = curPage * pageSize;\n        if (index >= start && index < end) return true;\n      }).forEach((article) => {\n        if(article.description != null || article.urlToImage != null){\n            document.querySelector('.post-list').innerHTML += `\n            <div class=\"card\" style=\"\">\n                <div class=\"card-body\">\n                <a href=\"${article.url}\">\n                    <img src=\"${article.urlToImage}\">\n                    <h2 class=\"card-title\">${article.title}</h5>\n                    <p class=\"card-text\">${article.description}</p>\n                </a>\n                </div>\n                </div>\n            `\n        }\n    });\n}\n\nfunction previousPage() {\n    if (curPage > 1) {\n      curPage--;\n      gerPosts(curPage);\n    }\n  }\n  \n async function nextPage() {\n    let res = await fetch('https://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=ba87f9ce8b3d495c8d33a8026f9b375f');\n    let posts = await res.json();\n    if ((curPage * pageSize) < posts.articles.length) {\n      curPage++;\n      gerPosts(curPage);\n    }\n  }\n\n  \n  document.querySelector('#nextButton').addEventListener('click', nextPage, false);\ndocument.querySelector('#prevButton').addEventListener('click', previousPage, false);\n\ngerPosts();\n\n\n"],"mappings":"AAAA,IAAIA,OAAO,GAAG,CAAC;AACf,IAAIC,QAAQ,GAAG,CAAC;AAEhB,IAAGC,MAAM,CAACC,UAAU,CAAC,qBAAqB,CAAC,CAACC,OAAO,EAAC;EACnDH,QAAQ,GAAG,CAAC;AACb;AAGA,eAAeI,QAAQ,GAAU;EAAA,IAATC,IAAI,uEAAG,CAAC;EAC5B,IAAIC,GAAG,GAAG,MAAMC,KAAK,CAAC,2GAA2G,CAAC;EAClI,IAAIC,KAAK,GAAG,MAAMF,GAAG,CAACG,IAAI,EAAE;EAE5B,IAAIC,QAAQ,GAAGC,IAAI,CAACC,IAAI,CAACJ,KAAK,CAACK,QAAQ,CAACC,MAAM,GAAGd,QAAQ,CAAC;EAE1D,IAAIK,IAAI,IAAI,CAAC,EAAE;IACXU,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACC,QAAQ,GAAG,IAAI;EACvD,CAAC,MAAM;IACLF,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACC,QAAQ,GAAG,KAAK;EACxD;EAEA,IAAIZ,IAAI,KAAKK,QAAQ,EAAE;IACrBK,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACC,QAAQ,GAAG,IAAI;EACvD,CAAC,MAAM;IACLF,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACC,QAAQ,GAAG,KAAK;EACxD;EAEFF,QAAQ,CAACG,aAAa,CAAC,YAAY,CAAC,CAACC,SAAS,GAAG,EAAE;EAEnDX,KAAK,CAACK,QAAQ,CAACO,MAAM,CAAC,CAACC,GAAG,EAAEC,KAAK,KAAK;IAClC,IAAIC,KAAK,GAAG,CAACxB,OAAO,GAAG,CAAC,IAAIC,QAAQ;IACpC,IAAIwB,GAAG,GAAGzB,OAAO,GAAGC,QAAQ;IAC5B,IAAIsB,KAAK,IAAIC,KAAK,IAAID,KAAK,GAAGE,GAAG,EAAE,OAAO,IAAI;EAChD,CAAC,CAAC,CAACC,OAAO,CAAEC,OAAO,IAAK;IACtB,IAAGA,OAAO,CAACC,WAAW,IAAI,IAAI,IAAID,OAAO,CAACE,UAAU,IAAI,IAAI,EAAC;MACzDb,QAAQ,CAACG,aAAa,CAAC,YAAY,CAAC,CAACC,SAAS,IAAK;AAC/D;AACA;AACA,2BAA2BO,OAAO,CAACG,GAAI;AACvC,gCAAgCH,OAAO,CAACE,UAAW;AACnD,6CAA6CF,OAAO,CAACI,KAAM;AAC3D,2CAA2CJ,OAAO,CAACC,WAAY;AAC/D;AACA;AACA;AACA,aAAa;IACL;EACJ,CAAC,CAAC;AACN;AAEA,SAASI,YAAY,GAAG;EACpB,IAAIhC,OAAO,GAAG,CAAC,EAAE;IACfA,OAAO,EAAE;IACTK,QAAQ,CAACL,OAAO,CAAC;EACnB;AACF;AAED,eAAeiC,QAAQ,GAAG;EACvB,IAAI1B,GAAG,GAAG,MAAMC,KAAK,CAAC,2GAA2G,CAAC;EAClI,IAAIC,KAAK,GAAG,MAAMF,GAAG,CAACG,IAAI,EAAE;EAC5B,IAAKV,OAAO,GAAGC,QAAQ,GAAIQ,KAAK,CAACK,QAAQ,CAACC,MAAM,EAAE;IAChDf,OAAO,EAAE;IACTK,QAAQ,CAACL,OAAO,CAAC;EACnB;AACF;AAGAgB,QAAQ,CAACG,aAAa,CAAC,aAAa,CAAC,CAACe,gBAAgB,CAAC,OAAO,EAAED,QAAQ,EAAE,KAAK,CAAC;AAClFjB,QAAQ,CAACG,aAAa,CAAC,aAAa,CAAC,CAACe,gBAAgB,CAAC,OAAO,EAAEF,YAAY,EAAE,KAAK,CAAC;AAEpF3B,QAAQ,EAAE"},"metadata":{},"sourceType":"module","externalDependencies":[]}