{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\regin\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\neobank-app\\\\neobank-app-main\\\\src\\\\pages\\\\Document.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Table from \"../components/Table\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Document() {\n  _s();\n  const pathname = window.location.pathname;\n  let id = pathname.split(\"/\");\n  id = id[2];\n  let [payments, setPayment] = useState({});\n  useEffect(() => {\n    fetch(`http://localhost:8080/admin/application/${id}`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => response.json()).then(payment => setPayment(payment));\n  }, []);\n  const columns = useMemo(() => [{\n    Header: \"State\",\n    accessor: \"state\"\n  }, {\n    Header: \"Positive Cases\",\n    accessor: \"positive\"\n  }, {\n    Header: \"Recovered Cases\",\n    accessor: \"recovered\"\n  }]);\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    async function getData() {\n      await axios.get(\"https://covidtracking.com/api/v1/states/current.json\").then(response => {\n        // check if the data is populated\n        console.log(response.data);\n        setData(response.data);\n        // you tell it that you had the result\n        setLoadingData(false);\n      });\n    }\n    if (loadingData) {\n      // if the result is not ready so you make the axios call\n      getData();\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: loadingData ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading Please wait...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Table, {\n      columns: columns,\n      data: data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(Document, \"yBJS6uQfyQoObIZUiLIyGafyARg=\");\n_c = Document;\nexport default Document;\nvar _c;\n$RefreshReg$(_c, \"Document\");","map":{"version":3,"names":["React","useState","useEffect","Table","Document","pathname","window","location","id","split","payments","setPayment","fetch","method","headers","then","response","json","payment","columns","useMemo","Header","accessor","data","setData","getData","axios","get","console","log","setLoadingData","loadingData"],"sources":["C:/Users/regin/OneDrive/Рабочий стол/neobank-app/neobank-app-main/src/pages/Document.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Table from \"../components/Table\";\r\n\r\nfunction Document() {\r\n  const pathname = window.location.pathname;\r\n  let id = pathname.split(\"/\");\r\n  id = id[2];\r\n\r\n  let [payments, setPayment] = useState({});\r\n\r\n  useEffect(() => {\r\n    fetch(`http://localhost:8080/admin/application/${id}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((payment) => setPayment(payment));\r\n      \r\n  }, []);\r\n  const columns = useMemo(() => [\r\n    {\r\n      Header: \"State\",\r\n      accessor: \"state\",\r\n    },\r\n    {\r\n      Header: \"Positive Cases\",\r\n      accessor: \"positive\",\r\n    },\r\n    {\r\n      Header: \"Recovered Cases\",\r\n      accessor: \"recovered\",\r\n    },\r\n  ]);\r\n\r\n  const [data, setData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      await axios\r\n        .get(\"https://covidtracking.com/api/v1/states/current.json\")\r\n        .then((response) => {\r\n          // check if the data is populated\r\n          console.log(response.data);\r\n          setData(response.data);\r\n          // you tell it that you had the result\r\n          setLoadingData(false);\r\n        });\r\n    }\r\n    if (loadingData) {\r\n      // if the result is not ready so you make the axios call\r\n      getData();\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      {/* here you check if the state is loading otherwise if you wioll not call that you will get a blank page because the data is an empty array at the moment of mounting */}\r\n      {loadingData ? (\r\n        <p>Loading Please wait...</p>\r\n      ) : (\r\n        <Table columns={columns} data={data} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Document;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,qBAAqB;AAAC;AAExC,SAASC,QAAQ,GAAG;EAAA;EAClB,MAAMC,QAAQ,GAAGC,MAAM,CAACC,QAAQ,CAACF,QAAQ;EACzC,IAAIG,EAAE,GAAGH,QAAQ,CAACI,KAAK,CAAC,GAAG,CAAC;EAC5BD,EAAE,GAAGA,EAAE,CAAC,CAAC,CAAC;EAEV,IAAI,CAACE,QAAQ,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,CAAC,CAAC,CAAC;EAEzCC,SAAS,CAAC,MAAM;IACdU,KAAK,CAAE,2CAA0CJ,EAAG,EAAC,EAAE;MACrDK,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB;IACF,CAAC,CAAC,CACCC,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,EAAE,CAAC,CACnCF,IAAI,CAAEG,OAAO,IAAKP,UAAU,CAACO,OAAO,CAAC,CAAC;EAE3C,CAAC,EAAE,EAAE,CAAC;EACN,MAAMC,OAAO,GAAGC,OAAO,CAAC,MAAM,CAC5B;IACEC,MAAM,EAAE,OAAO;IACfC,QAAQ,EAAE;EACZ,CAAC,EACD;IACED,MAAM,EAAE,gBAAgB;IACxBC,QAAQ,EAAE;EACZ,CAAC,EACD;IACED,MAAM,EAAE,iBAAiB;IACzBC,QAAQ,EAAE;EACZ,CAAC,CACF,CAAC;EAEF,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EAEpCC,SAAS,CAAC,MAAM;IACd,eAAeuB,OAAO,GAAG;MACvB,MAAMC,KAAK,CACRC,GAAG,CAAC,sDAAsD,CAAC,CAC3DZ,IAAI,CAAEC,QAAQ,IAAK;QAClB;QACAY,OAAO,CAACC,GAAG,CAACb,QAAQ,CAACO,IAAI,CAAC;QAC1BC,OAAO,CAACR,QAAQ,CAACO,IAAI,CAAC;QACtB;QACAO,cAAc,CAAC,KAAK,CAAC;MACvB,CAAC,CAAC;IACN;IACA,IAAIC,WAAW,EAAE;MACf;MACAN,OAAO,EAAE;IACX;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,oBACE;IAAK,SAAS,EAAC,KAAK;IAAA,UAEjBM,WAAW,gBACV;MAAA,UAAG;IAAsB;MAAA;MAAA;MAAA;IAAA,QAAI,gBAE7B,QAAC,KAAK;MAAC,OAAO,EAAEZ,OAAQ;MAAC,IAAI,EAAEI;IAAK;MAAA;MAAA;MAAA;IAAA;EACrC;IAAA;IAAA;IAAA;EAAA,QACG;AAEV;AAAC,GA/DQnB,QAAQ;AAAA,KAARA,QAAQ;AAiEjB,eAAeA,QAAQ;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}