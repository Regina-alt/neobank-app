{"ast":null,"code":"let curPage = 1;\nlet pageSize = 3;\nif (window.matchMedia(\"(max-width: 1300px)\").matches) {\n  pageSize = 2;\n}\nasync function gerPosts() {\n  let page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  let res = await fetch(\"https://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=ba87f9ce8b3d495c8d33a8026f9b375f\");\n  let posts = await res.json();\n  let numPages = Math.ceil(posts.articles.length / pageSize);\n  if (page == 1) {\n    document.getElementById(\"prevButton\").disabled = true;\n  } else {\n    document.getElementById(\"prevButton\").disabled = false;\n  }\n  if (page === numPages) {\n    document.getElementById(\"nextButton\").disabled = true;\n  } else {\n    document.getElementById(\"nextButton\").disabled = false;\n  }\n  document.querySelector(\".post-list\").innerHTML = \"\";\n  posts.articles.filter((row, index) => {\n    let start = (curPage - 1) * pageSize;\n    let end = curPage * pageSize;\n    if (index >= start && index < end) return true;\n  }).forEach(article => {\n    if (article.description != null || article.urlToImage != null) {\n      document.querySelector(\".post-list\").innerHTML += `\n            <div class=\"card\" style=\"\">\n                <div class=\"card-body\">\n                <a href=\"${article.url}\">\n                    <img src=\"${article.urlToImage}\">\n                    <h2 class=\"card-title\">${article.title}</h5>\n                    <p class=\"card-text\">${article.description}</p>\n                </a>\n                </div>\n                </div>\n            `;\n    }\n  });\n}\nfunction previousPage() {\n  if (curPage > 1) {\n    curPage--;\n    gerPosts(curPage);\n  }\n}\nasync function nextPage() {\n  let res = await fetch(\"https://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=ba87f9ce8b3d495c8d33a8026f9b375f\");\n  let posts = await res.json();\n  if (curPage * pageSize < posts.articles.length) {\n    curPage++;\n    gerPosts(curPage);\n  }\n}\ndocument.querySelector(\"#nextButton\").addEventListener(\"click\", nextPage, false);\ndocument.querySelector(\"#prevButton\").addEventListener(\"click\", previousPage, false);\ngerPosts();","map":{"version":3,"names":["curPage","pageSize","window","matchMedia","matches","gerPosts","page","res","fetch","posts","json","numPages","Math","ceil","articles","length","document","getElementById","disabled","querySelector","innerHTML","filter","row","index","start","end","forEach","article","description","urlToImage","url","title","previousPage","nextPage","addEventListener"],"sources":["/Users/regina/neobank-app/src/utils/GetNews.js"],"sourcesContent":["let curPage = 1;\nlet pageSize = 3;\n\nif (window.matchMedia(\"(max-width: 1300px)\").matches) {\n  pageSize = 2;\n}\n\nasync function gerPosts(page = 1) {\n  let res = await fetch(\n    \"https://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=ba87f9ce8b3d495c8d33a8026f9b375f\"\n  );\n  let posts = await res.json();\n\n  let numPages = Math.ceil(posts.articles.length / pageSize);\n\n  if (page == 1) {\n    document.getElementById(\"prevButton\").disabled = true;\n  } else {\n    document.getElementById(\"prevButton\").disabled = false;\n  }\n\n  if (page === numPages) {\n    document.getElementById(\"nextButton\").disabled = true;\n  } else {\n    document.getElementById(\"nextButton\").disabled = false;\n  }\n\n  document.querySelector(\".post-list\").innerHTML = \"\";\n\n  posts.articles\n    .filter((row, index) => {\n      let start = (curPage - 1) * pageSize;\n      let end = curPage * pageSize;\n      if (index >= start && index < end) return true;\n    })\n    .forEach((article) => {\n      if (article.description != null || article.urlToImage != null) {\n        document.querySelector(\".post-list\").innerHTML += `\n            <div class=\"card\" style=\"\">\n                <div class=\"card-body\">\n                <a href=\"${article.url}\">\n                    <img src=\"${article.urlToImage}\">\n                    <h2 class=\"card-title\">${article.title}</h5>\n                    <p class=\"card-text\">${article.description}</p>\n                </a>\n                </div>\n                </div>\n            `;\n      }\n    });\n}\n\nfunction previousPage() {\n  if (curPage > 1) {\n    curPage--;\n    gerPosts(curPage);\n  }\n}\n\nasync function nextPage() {\n  let res = await fetch(\n    \"https://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=ba87f9ce8b3d495c8d33a8026f9b375f\"\n  );\n  let posts = await res.json();\n  if (curPage * pageSize < posts.articles.length) {\n    curPage++;\n    gerPosts(curPage);\n  }\n}\n\ndocument\n  .querySelector(\"#nextButton\")\n  .addEventListener(\"click\", nextPage, false);\ndocument\n  .querySelector(\"#prevButton\")\n  .addEventListener(\"click\", previousPage, false);\n\ngerPosts();\n"],"mappings":"AAAA,IAAIA,OAAO,GAAG,CAAC;AACf,IAAIC,QAAQ,GAAG,CAAC;AAEhB,IAAIC,MAAM,CAACC,UAAU,CAAC,qBAAqB,CAAC,CAACC,OAAO,EAAE;EACpDH,QAAQ,GAAG,CAAC;AACd;AAEA,eAAeI,QAAQ,GAAW;EAAA,IAAVC,IAAI,uEAAG,CAAC;EAC9B,IAAIC,GAAG,GAAG,MAAMC,KAAK,CACnB,2GAA2G,CAC5G;EACD,IAAIC,KAAK,GAAG,MAAMF,GAAG,CAACG,IAAI,EAAE;EAE5B,IAAIC,QAAQ,GAAGC,IAAI,CAACC,IAAI,CAACJ,KAAK,CAACK,QAAQ,CAACC,MAAM,GAAGd,QAAQ,CAAC;EAE1D,IAAIK,IAAI,IAAI,CAAC,EAAE;IACbU,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACC,QAAQ,GAAG,IAAI;EACvD,CAAC,MAAM;IACLF,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACC,QAAQ,GAAG,KAAK;EACxD;EAEA,IAAIZ,IAAI,KAAKK,QAAQ,EAAE;IACrBK,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACC,QAAQ,GAAG,IAAI;EACvD,CAAC,MAAM;IACLF,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACC,QAAQ,GAAG,KAAK;EACxD;EAEAF,QAAQ,CAACG,aAAa,CAAC,YAAY,CAAC,CAACC,SAAS,GAAG,EAAE;EAEnDX,KAAK,CAACK,QAAQ,CACXO,MAAM,CAAC,CAACC,GAAG,EAAEC,KAAK,KAAK;IACtB,IAAIC,KAAK,GAAG,CAACxB,OAAO,GAAG,CAAC,IAAIC,QAAQ;IACpC,IAAIwB,GAAG,GAAGzB,OAAO,GAAGC,QAAQ;IAC5B,IAAIsB,KAAK,IAAIC,KAAK,IAAID,KAAK,GAAGE,GAAG,EAAE,OAAO,IAAI;EAChD,CAAC,CAAC,CACDC,OAAO,CAAEC,OAAO,IAAK;IACpB,IAAIA,OAAO,CAACC,WAAW,IAAI,IAAI,IAAID,OAAO,CAACE,UAAU,IAAI,IAAI,EAAE;MAC7Db,QAAQ,CAACG,aAAa,CAAC,YAAY,CAAC,CAACC,SAAS,IAAK;AAC3D;AACA;AACA,2BAA2BO,OAAO,CAACG,GAAI;AACvC,gCAAgCH,OAAO,CAACE,UAAW;AACnD,6CAA6CF,OAAO,CAACI,KAAM;AAC3D,2CAA2CJ,OAAO,CAACC,WAAY;AAC/D;AACA;AACA;AACA,aAAa;IACP;EACF,CAAC,CAAC;AACN;AAEA,SAASI,YAAY,GAAG;EACtB,IAAIhC,OAAO,GAAG,CAAC,EAAE;IACfA,OAAO,EAAE;IACTK,QAAQ,CAACL,OAAO,CAAC;EACnB;AACF;AAEA,eAAeiC,QAAQ,GAAG;EACxB,IAAI1B,GAAG,GAAG,MAAMC,KAAK,CACnB,2GAA2G,CAC5G;EACD,IAAIC,KAAK,GAAG,MAAMF,GAAG,CAACG,IAAI,EAAE;EAC5B,IAAIV,OAAO,GAAGC,QAAQ,GAAGQ,KAAK,CAACK,QAAQ,CAACC,MAAM,EAAE;IAC9Cf,OAAO,EAAE;IACTK,QAAQ,CAACL,OAAO,CAAC;EACnB;AACF;AAEAgB,QAAQ,CACLG,aAAa,CAAC,aAAa,CAAC,CAC5Be,gBAAgB,CAAC,OAAO,EAAED,QAAQ,EAAE,KAAK,CAAC;AAC7CjB,QAAQ,CACLG,aAAa,CAAC,aAAa,CAAC,CAC5Be,gBAAgB,CAAC,OAAO,EAAEF,YAAY,EAAE,KAAK,CAAC;AAEjD3B,QAAQ,EAAE"},"metadata":{},"sourceType":"module","externalDependencies":[]}